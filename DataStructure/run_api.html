<html>
<head>
    <meta charset="utf-8">
    <title>Mocha Tests</title>
    <link rel="stylesheet" href="node_modules/mocha/mocha.css" />
    <link href="css/bootstrap.min.css" rel="stylesheet" media="screen">
    <script src="js/jquery-1.10.2.js"></script>
    <!-- 모든 합쳐진 플러그인을 포함하거나 (아래) 필요한 각각의 파일들을 포함하세요 -->

</head>

<body>
<script src="graph/graph.js"></script>
<script src="lib/base64.js"></script>
<script src="lib/underscore-min.js"></script>
<script src="github.js"></script>
<script src="js/bootstrap.min.js"></script>



<div class="row text-center col-md-12">
    <div class="page-header">

        <h1>GITHUB 개발자 관계 그래프 Machine</h1>
    </div>
    <div class="col-md-12 container ">

        <form id="orga_form" method="post">
            <label name="orga_name" class="label-info">시작 Repository</label> <input type="text" name="orga_name" class="input-sm">
            <button type="submit" class="btn btn-default" id="search_button" data-loading-text="검색중..." name="submit" value="전송" onclick="javascript:submit_function(orga_name);return false;">검색</button>

        </form>
    </div>

    <div class="col-md-12 ">
        <div class="col-md-12" id="orga_table">

        </div>
    </div>
</div>
<script src="conn_github.js"></script>

<script>
    var submit_function = (function(orga_name_input){
        //이곳으로 시작된다.
        var orga_name = orga_name_input.value;

        user.orgRepos(orga_name, function(err, repos) {
            console.log(orga_name + "'s repository list");

            for (var i in repos) {
                count++;
                $(document).trigger("getRepo", repos[i]); //repos안에는 배열로 repo목록이 들어가있다. 하나씩 들어간다.
            }
        });
    });


</script>
</body>
</html>